/* ==========================================================================
   BANNERS CONTAINER SLIDER - Componente de banner rotador
   ========================================================================== */

.banners-container-slider {
  @apply z-0 relative h-[760px] overflow-hidden bg-negro;

  /* Slides individuales */
  .banner-slide {
    @apply absolute inset-0 transition-opacity duration-1000 ease-in-out;

    &.active {
      @apply opacity-100 z-10;
    }

    &:not(.active) {
      @apply opacity-0 z-0;
    }

    /* Imagen de fondo */
    .banner-background {
      @apply absolute inset-0 overflow-hidden;

      img {
        @apply w-full h-full object-cover transition-transform duration-1000 ease-out;
        transform: scale(1.1);
      }
    }

    /* Imagen principal con efecto parallax - FULL SIZE */
    .banner-main-image {
      @apply absolute inset-0 z-20 overflow-hidden;

      img {
        @apply w-full h-full object-cover transition-all duration-1000 ease-out;
        transform: scale(1.05) translateY(0);
      }
    }

    /* Efecto parallax cuando el slide está activo */
    &.active {
      .banner-background img {
        transform: scale(1);
      }

      .banner-main-image img {
        transform: scale(1);
      }
    }

    /* Efecto parallax cuando el slide no está activo */
    &:not(.active) {
      .banner-background img {
        transform: scale(1.1);
      }

      .banner-main-image img {
        transform: scale(1.05);
      }
    }
  }
  .page-width {
    @apply relative z-40 h-full flex items-center;
  }
  /* Contenido del banner */
  .banner-content {
    @apply relative z-30 h-full w-full flex items-center;

    /* Alineación de contenido */
    &.banner-content--left {
      @apply justify-start pl-16;
      
      .banner-text-container {
        @apply text-left;
      }
      
      .banner-title {
        @apply text-left;
      }
      
      .banner-subtitle-container {
        @apply pl-8 border-l-2 border-rojo text-left justify-start;
      }
      
      .banner-button {
        @apply mr-auto;
      }
    }

    &.banner-content--center {
      @apply justify-center;
      
      .banner-text-container {
        @apply text-center;
      }
      
      .banner-title {
        @apply text-center;
      }
      
      .banner-subtitle-container {
        @apply justify-center text-center;
      }
      
      .banner-button {
        @apply mx-auto;
      }
    }

    &.banner-content--right {
      @apply justify-end pr-16;
      
      .banner-text-container {
        @apply text-right;
      }
      
      .banner-title {
        @apply text-right;
      }
      
      .banner-subtitle-container {
        @apply pr-8 border-r-2 border-rojo text-right justify-end;
      }
      
      .banner-button {
        @apply ml-auto;
      }
    }

    /* Contenedor de texto */
    .banner-text-container {
      @apply max-w-2xl;

      /* Título principal */
      .banner-title {
        @apply text-5xl font-extrabold uppercase leading-tight mb-6;
      }

      /* Subtítulo con línea */
      .banner-subtitle-container {
        @apply flex items-center mb-8 max-w-xs;

        .banner-subtitle {
          @apply text-2xl font-light uppercase leading-tight;
        }
      }

      /* Botón CTA */
      .banner-button {
        @apply px-8 py-4 rounded-lg font-semibold uppercase transition-all duration-300 hover:scale-105;

        /* Estilos de botón */
        &.banner-button--primary {
          @apply shadow-lg hover:shadow-xl;
        }

        &.banner-button--secondary {
          @apply border-2 border-current bg-transparent hover:bg-current;
        }

        &.banner-button--outline {
          @apply border-2 border-current bg-transparent hover:bg-current hover:text-white;
        }
      }
    }
  }

  /* Controles de navegación */
  .slider-controls-container {
    @apply absolute inset-y-0 w-full pointer-events-none z-30;

    .slider-controls {
      @apply absolute top-1/2 -translate-y-1/2 w-12 h-12 bg-black/30 hover:bg-black/50 transition-colors duration-300 flex items-center justify-center pointer-events-auto;

      svg {
        @apply w-6 h-6 text-white;
      }

      &.slider-controls--prev {
        @apply left-0;
      }

      &.slider-controls--next {
        @apply right-0;
      }

      &:hover {
        @apply scale-110;
      }

      &:active {
        @apply scale-95;
      }
    }
  }

  /* Indicadores de slide */
  .slider-indicators {
    @apply absolute bottom-8 left-1/2 -translate-x-1/2 flex gap-2 z-30;

    .slider-indicator {
      @apply w-3 h-3 rounded-full bg-white/50 hover:bg-white/80 transition-colors duration-300 cursor-pointer;

      &.active {
        @apply bg-white;
      }

      &:hover {
        @apply scale-125;
      }
    }
  }

  /* Overlay de gradiente */
  .banner-slide .banner-overlay {
    @apply absolute inset-0 bg-gradient-to-b from-transparent via-transparent to-negro opacity-75;
  }
}

/* ==========================================================================
   RESPONSIVE DESIGN
   ========================================================================== */

@media screen and (max-width: 768px) {
  .banners-container-slider {
    @apply h-[500px];

    .banner-slide {
      .banner-main-image {
        @apply right-4 w-64;

        img {
          @apply w-full;
        }
      }

      .banner-content {
        &.banner-content--left,
        &.banner-content--center,
        &.banner-content--right {
          @apply px-6 justify-center;
        }

        .banner-text-container {
          @apply max-w-full text-center;

          .banner-title {
            @apply text-3xl mb-4;
          }

          .banner-subtitle-container {
            @apply justify-center mb-6;

            .banner-subtitle-line {
              @apply h-16 mr-4;
            }

            .banner-subtitle {
              @apply text-xl;
            }
          }

          .banner-button {
            @apply px-6 py-3 text-sm;
          }
        }
      }

      .slider-controls-container {
        .slider-controls {
          @apply w-10 h-10;

          svg {
            @apply w-5 h-5;
          }
        }
      }

      .slider-indicators {
        @apply bottom-4;

        .slider-indicator {
          @apply w-2 h-2;
        }
      }
    }
  }
}

@media screen and (max-width: 480px) {
  .banners-container-slider {
    @apply h-[400px];

    .banner-slide {
      .banner-main-image {
        @apply right-2 w-48;
      }

      .banner-content {
        @apply px-4;

        .banner-text-container {
          .banner-title {
            @apply text-2xl mb-3;
          }

          .banner-subtitle-container {
            @apply mb-4;

            .banner-subtitle-line {
              @apply h-12 mr-3;
            }

            .banner-subtitle {
              @apply text-lg;
            }
          }

          .banner-button {
            @apply px-4 py-2 text-xs;
          }
        }
      }
    }
  }
}

/* ==========================================================================
   ANIMACIONES Y TRANSICIONES
   ========================================================================== */

@media (prefers-reduced-motion: no-preference) {
  .banners-container-slider {
    .banner-slide {
      @apply transition-all duration-1000 ease-in-out;

      &.active {
        @apply transform-none;
      }

      &:not(.active) {
        @apply transform scale-105;
      }

      /* Efecto parallax mejorado */
      .banner-background img {
        transition: transform 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      .banner-main-image img {
        transition: transform 1.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
      }

      /* Efecto parallax más pronunciado */
      &.active {
        .banner-background img {
          transform: scale(1) translateY(0);
        }

        .banner-main-image img {
          transform: scale(1) translateY(0);
        }
      }

      &:not(.active) {
        .banner-background img {
          transform: scale(1.15) translateY(10px);
        }

        .banner-main-image img {
          transform: scale(1.1) translateY(-10px);
        }
      }
    }

    .banner-content {
      .banner-text-container {
        .banner-title,
        .banner-subtitle,
        .banner-button {
          @apply transition-all duration-500 ease-out;
        }
      }
    }
  }
}

@media (prefers-reduced-motion: reduce) {
  .banners-container-slider {
    .banner-slide {
      @apply transition-none;
    }

    .banner-content {
      .banner-text-container {
        .banner-title,
        .banner-subtitle,
        .banner-button {
          @apply transition-none;
        }
      }
    }
  }
}

/* ==========================================================================
   ESTADOS DE CARGA Y ERROR
   ========================================================================== */

.banners-container-slider {
  &.loading {
    .banner-slide {
      @apply opacity-50;
    }
  }

  &.error {
    .banner-slide {
      @apply opacity-30;
    }
  }
}

/* ==========================================================================
   ACCESIBILIDAD
   ========================================================================== */

.banners-container-slider {
  /* Focus visible para controles */
  .slider-controls:focus-visible {
    @apply outline-2 outline-white outline-offset-2;
  }

  .slider-indicator:focus-visible {
    @apply outline-2 outline-white outline-offset-2;
  }

  /* Estados de hover mejorados */
  .slider-controls:hover,
  .slider-indicator:hover {
    @apply ring-2 ring-white/50;
  }

  /* Contraste mejorado para texto */
  .banner-title,
  .banner-subtitle {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.8);
  }
}
